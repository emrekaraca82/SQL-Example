1)ÞÝRKETÝMÝZDE HALEN ÇALIÞAN LÝSTELEYEN SORGU YAZINIZ
SELECT * FROM PERSONS WHERE OUTDATE  IS NULL

2)ÞÝRKETÝMÝZDE DEPARTMAN BAZLI HALEN ÇALIÞMAYA DEVAM EDEN KADIN VE ERKEK SAYILARINI GETÝREN SQL SORGUSU
SELECT D.DEPARTMENT,P.GENDER,COUNT(D.ID) AS CALISAN_SAYISI FROM PERSONS P
INNER JOIN DEPARTMENTS D ON P.DEPARTMENTID = D.ID
WHERE OUTDATE  IS NULL 
GROUP BY P.GENDER,D.DEPARTMENT

3)ÞÝREKETÝMÝZDE DEPARTMAN BAZLI HAKLEN ÇALIÞAN ERKEK VE KADIN SAYILARI YAZAN SORGU
SELECT DEPARTMENT,
(SELECT COUNT(*) FROM PERSONS WHERE DEPARTMENTID = D.ID AND GENDER = 'E' AND OUTDATE IS NULL) AS ERKEK_SAYISI,
(SELECT COUNT(*) FROM PERSONS WHERE DEPARTMENTID = D.ID AND GENDER = 'K' AND OUTDATE IS NULL ) AS KADIN_SAYISI
FROM DEPARTMENTS D

4)ÞÝRKETÝMÝZDE PLANAMA ÞEFÝ MÝN,MAX,ORTALAMA MAAÞINI GETÝREN SORGU
SELECT PS.POSITION,
MAX(P.SALARY) AS MAX_SALARY,
MIN(P.SALARY) AS MIN_SALARY,
ROUND(AVG(P.SALARY),0) AS ORT_SALARY
 FROM PERSONS P 
INNER JOIN POSITIONS PS ON P.POSITIONID = PS.ID WHERE PS.POSITION ='PLANLAMA ÞEFÝ' GROUP BY PS.POSITION

5)HER BÝR POZÝSYONDA MEVCUT HALDE ÇALIÞAN SAYISI VE ORTLAMA MAAÞ LÝSTELEYEN SORGU
SELECT PS.POSITION,COUNT(PS.ID) AS CALISAN_SAYISI,ROUND(AVG(P.SALARY),1) AS ORTALAMA_MAAS FROM PERSONS P 
INNER JOIN POSITIONS PS ON P.POSITIONID = PS.ID WHERE P.OUTDATE IS NULL GROUP BY PS.POSITION

6)YILLARA GÖRE ÝÞE ALINAN PERSONEL SAYISINI KADIN VE ERKEK BAZINDA LÝSTELEYEN SORGUYU YAZINIZ
SELECT DISTINCT YEAR(P.INDATE) YEAR_,
(SELECT COUNT(*) FROM PERSONS WHERE  GENDER = 'E' AND YEAR(INDATE) = YEAR(P.INDATE)) AS ERKEK_SAYISI,
(SELECT COUNT(*) FROM PERSONS WHERE  GENDER = 'K' AND YEAR(INDATE) = YEAR(P.INDATE)) AS KADIN_SAYISI
FROM PERSONS P
ORDER BY 1

7)HER BÝR PERSONEL NE KADAR ZAMAN ÇALIÞTIÐI BÝLGÝSÝNÝ AY OLARAK GETÝREN SORGU YAZINIZ.
SELECT  NAME_+' '+SURNAME,INDATE,OUTDATE,
DATEDIFF(MONTH,INDATE,GETDATE()) AS WORKING_TIME
FROM PERSONS WHERE OUTDATE IS NULL
UNION ALL
SELECT NAME_ +' '+SURNAME,INDATE,OUTDATE,
DATEDIFF(MONTH,INDATE,OUTDATE) AS WORKING_TIME
FROM PERSONS WHERE OUTDATE IS NOT NULL
ORDER BY 1

8)HERKESÝN ÝSÝM VE SOYÝSÝM BAÞ HARFLERÝNÝ YAZDIRAN SORGU
SELECT 
SUBSTRING(NAME_,1,1) +'.'+ SUBSTRING(SURNAME,1,1) +'.'  SHORTNAME,
COUNT(*) AS PERSONEL_SAYISI 
FROM PERSONS
GROUP BY SUBSTRING(NAME_,1,1) +'.'+ SUBSTRING(SURNAME,1,1) +'.' 
ORDER BY 1

9)MAAS ORTALAMA 5000 TL FAZLA OLAN DEPARTMANLARI LÝSTEYEN SORGU YAZINIZ
SELECT DEPARTMENT, ROUND(AVG(SALARY),0) AS ORTALAMA_MAAS FROM PERSONS P 
INNER JOIN DEPARTMENTS D ON P.DEPARTMENTID = D.ID 
GROUP BY DEPARTMENT HAVING AVG(SALARY) > 5500


